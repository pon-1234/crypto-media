# プロジェクトコンテキスト

## 目的

- SEOメディアとコーポレートサイトを統合したHeadless CMS基盤を構築し、開発・運用負荷を最小化する。
- 会員区分に応じた記事の閲覧権限を制御するデータモデルを設計する。

## 主要なユースケース

- **ゲスト (未登録ユーザー)**: 有料会員限定記事以外の記事をすべて閲覧できる。マイページにはアクセスできない。`/register/`ページから有料登録フローに進むことができる。
- **無料会員 (元有料会員)**: 課金を停止した状態のユーザー。有料会員限定記事以外の記事をすべて閲覧できる。マイページにアクセスし、再契約などが可能。
- **有料会員 (課金中ユーザー)**: すべての記事（有料限定含む）を全文閲覧できる。マイページにアクセスできる。

## 制約・非機能要件

- **パフォーマンス (CWV)**: LCP < 2.0s, FID < 100ms, CLS < 0.1 を達成する。Lighthouse-CIでPRごとにチェックする。
- **セキュリティ**: 会員情報はFirestoreに一元化し、microCMSには保持しない。Stripe Webhookでは署名検証と冪等性チェック必須。
- **可用性**: Vercel, microCMS, FirebaseのSLAに準拠し、エラーはSlackに即時通知する。
- **保守性**: 責務に応じてモデルを適切に分離・統合し、CI/CDで品質チェックを自動化する。
